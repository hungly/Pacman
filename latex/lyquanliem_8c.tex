\hypertarget{lyquanliem_8c}{\section{src/lyquanliem.c File Reference}
\label{lyquanliem_8c}\index{src/lyquanliem.\-c@{src/lyquanliem.\-c}}
}
{\ttfamily \#include \char`\"{}lyquanliem.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}movement.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}core.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}astar.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}level\-\_\-editor.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pacghost.\-h\char`\"{}}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$math.\-h$>$}\\*
{\ttfamily \#include $<$ncurses.\-h$>$}\\*
{\ttfamily \#include $<$sys/ioctl.\-h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{lyquanliem_8c_a7fc642878ff2b44d98e3e7f13a35f2ab}{initialise\-\_\-ghost\-\_\-map} ()
\item 
void \hyperlink{lyquanliem_8c_a6a75428aee387a6adccfcfe60823c6ed}{choose\-\_\-direction\-\_\-for\-\_\-ghost} (char $\ast$\hyperlink{score_8h_a7b00b1bfd666e26484471bd17a74eaa9}{map}, struct \hyperlink{structpacghost}{pacghost} $\ast$\hyperlink{score_8h_a47083d9a35bd0770a437ce77a09bc657}{pacman}, struct \hyperlink{structpacghost}{pacghost} $\ast$\hyperlink{pacman_8c_a740878ba5052e8a3a3fd0634cb0a8189}{ghost}, int \hyperlink{pacman_8c_a016a5d341f375d13639c75bf5987fb23}{difficulty}, int \hyperlink{pacman_8c_aa49c100c8b968cdfef859f4f32752081}{is\-\_\-pacman\-\_\-powered\-\_\-up})
\item 
void \hyperlink{lyquanliem_8c_abab9339284556e1039f18cebb044e0c6}{move\-\_\-randomly} (struct \hyperlink{structpacghost}{pacghost} $\ast$\hyperlink{pacman_8c_a740878ba5052e8a3a3fd0634cb0a8189}{ghost})
\item 
void \hyperlink{lyquanliem_8c_a2e36b7d195d61f683e831a534c2e7679}{chase\-\_\-after\-\_\-pacman} (struct \hyperlink{structpacghost}{pacghost} $\ast$\hyperlink{score_8h_a47083d9a35bd0770a437ce77a09bc657}{pacman}, struct \hyperlink{structpacghost}{pacghost} $\ast$\hyperlink{pacman_8c_a740878ba5052e8a3a3fd0634cb0a8189}{ghost})
\item 
int \hyperlink{lyquanliem_8c_ac71c5bd5656df17c5aabc61721905d33}{direction\-\_\-from\-\_\-node\-\_\-to\-\_\-node} (int x\-Start, int y\-Start, int x\-Destination, int y\-Destination)
\item 
float \hyperlink{lyquanliem_8c_afdfe2ea05845c44e1ccaabcd9f50e1e9}{sqr} (float a)
\item 
float \hyperlink{lyquanliem_8c_accbda9078654f519568a349d78916a04}{distance\-\_\-between\-\_\-two\-\_\-points} (int x\-Start, int y\-Start, int x\-Destination, int y\-Destination)
\item 
void \hyperlink{lyquanliem_8c_a813521ef0ce8450f7c19bb42266a9599}{free\-\_\-ghost\-\_\-map} ()
\item 
int \hyperlink{lyquanliem_8c_a47539be5d3de5856b22709eb9b2dbde3}{random\-\_\-in\-\_\-range} (unsigned int min, unsigned int max)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{lyquanliem_8c_a2e36b7d195d61f683e831a534c2e7679}{\index{lyquanliem.\-c@{lyquanliem.\-c}!chase\-\_\-after\-\_\-pacman@{chase\-\_\-after\-\_\-pacman}}
\index{chase\-\_\-after\-\_\-pacman@{chase\-\_\-after\-\_\-pacman}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{chase\-\_\-after\-\_\-pacman}]{\setlength{\rightskip}{0pt plus 5cm}void chase\-\_\-after\-\_\-pacman (
\begin{DoxyParamCaption}
\item[{struct {\bf pacghost} $\ast$}]{pacman, }
\item[{struct {\bf pacghost} $\ast$}]{ghost}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_a2e36b7d195d61f683e831a534c2e7679}
This method move ghost to pacman position


\begin{DoxyParams}{Parameters}
{\em pacman,\-:} & pointer to the struct of pacman \\
\hline
{\em ghost,\-:} & pointer to the struct of the ghost \\
\hline
\end{DoxyParams}
\hypertarget{lyquanliem_8c_a6a75428aee387a6adccfcfe60823c6ed}{\index{lyquanliem.\-c@{lyquanliem.\-c}!choose\-\_\-direction\-\_\-for\-\_\-ghost@{choose\-\_\-direction\-\_\-for\-\_\-ghost}}
\index{choose\-\_\-direction\-\_\-for\-\_\-ghost@{choose\-\_\-direction\-\_\-for\-\_\-ghost}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{choose\-\_\-direction\-\_\-for\-\_\-ghost}]{\setlength{\rightskip}{0pt plus 5cm}void choose\-\_\-direction\-\_\-for\-\_\-ghost (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{map, }
\item[{struct {\bf pacghost} $\ast$}]{pacman, }
\item[{struct {\bf pacghost} $\ast$}]{ghost, }
\item[{int}]{difficulty, }
\item[{int}]{is\-\_\-pacman\-\_\-powered\-\_\-up}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_a6a75428aee387a6adccfcfe60823c6ed}
Choose the direction of the ghost based on the difficulty and power pallette eaten


\begin{DoxyParams}{Parameters}
{\em map} & pointer to the array of char which indicate current map \\
\hline
{\em pacman} & pointer to the pacman \\
\hline
{\em pacghost} & pointer to a ghost we want to choose direction for it \\
\hline
{\em diffculty} & an integer indicate the difficulty. 0 for easy and 3 for insane \\
\hline
{\em is\-\_\-pacman\-\_\-powered\-\_\-up} & an integer indicate whether pacman is powered up or not. 0 for no and 1 for yes \\
\hline
\end{DoxyParams}
\hypertarget{lyquanliem_8c_ac71c5bd5656df17c5aabc61721905d33}{\index{lyquanliem.\-c@{lyquanliem.\-c}!direction\-\_\-from\-\_\-node\-\_\-to\-\_\-node@{direction\-\_\-from\-\_\-node\-\_\-to\-\_\-node}}
\index{direction\-\_\-from\-\_\-node\-\_\-to\-\_\-node@{direction\-\_\-from\-\_\-node\-\_\-to\-\_\-node}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{direction\-\_\-from\-\_\-node\-\_\-to\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}int direction\-\_\-from\-\_\-node\-\_\-to\-\_\-node (
\begin{DoxyParamCaption}
\item[{int}]{x\-Start, }
\item[{int}]{y\-Start, }
\item[{int}]{x\-Destination, }
\item[{int}]{y\-Destination}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_ac71c5bd5656df17c5aabc61721905d33}
The direction that the ghost (with position x\-Start, y\-Start) turn to when move to the destination (with x\-Destination, y\-Destination)

The way direction found is based on the A-\/star algorithm with some modification to fit the program

Reference\-: \href{http://web.mit.edu/eranki/www/tutorials/search/}{\tt http\-://web.\-mit.\-edu/eranki/www/tutorials/search/}


\begin{DoxyParams}{Parameters}
{\em x\-Start} & the row of start point \\
\hline
{\em y\-Start} & the column of start point \\
\hline
{\em x\-Destination} & the row of destination point \\
\hline
{\em y\-Destination} & the column of destination point\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the direction that the ghost should turn to 
\end{DoxyReturn}
\hypertarget{lyquanliem_8c_accbda9078654f519568a349d78916a04}{\index{lyquanliem.\-c@{lyquanliem.\-c}!distance\-\_\-between\-\_\-two\-\_\-points@{distance\-\_\-between\-\_\-two\-\_\-points}}
\index{distance\-\_\-between\-\_\-two\-\_\-points@{distance\-\_\-between\-\_\-two\-\_\-points}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{distance\-\_\-between\-\_\-two\-\_\-points}]{\setlength{\rightskip}{0pt plus 5cm}float distance\-\_\-between\-\_\-two\-\_\-points (
\begin{DoxyParamCaption}
\item[{int}]{x\-Start, }
\item[{int}]{y\-Start, }
\item[{int}]{x\-Destination, }
\item[{int}]{y\-Destination}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_accbda9078654f519568a349d78916a04}
Calculate the distance between two points start and destination


\begin{DoxyParams}{Parameters}
{\em x\-Start} & the row of start \\
\hline
{\em y\-Start} & the column of start \\
\hline
{\em x\-Destination} & the row of destination \\
\hline
{\em y\-Destination} & the column of destination\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the distance between start and destination 
\end{DoxyReturn}
\hypertarget{lyquanliem_8c_a813521ef0ce8450f7c19bb42266a9599}{\index{lyquanliem.\-c@{lyquanliem.\-c}!free\-\_\-ghost\-\_\-map@{free\-\_\-ghost\-\_\-map}}
\index{free\-\_\-ghost\-\_\-map@{free\-\_\-ghost\-\_\-map}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{free\-\_\-ghost\-\_\-map}]{\setlength{\rightskip}{0pt plus 5cm}void free\-\_\-ghost\-\_\-map (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_a813521ef0ce8450f7c19bb42266a9599}
Free ghost map if it exists \hypertarget{lyquanliem_8c_a7fc642878ff2b44d98e3e7f13a35f2ab}{\index{lyquanliem.\-c@{lyquanliem.\-c}!initialise\-\_\-ghost\-\_\-map@{initialise\-\_\-ghost\-\_\-map}}
\index{initialise\-\_\-ghost\-\_\-map@{initialise\-\_\-ghost\-\_\-map}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{initialise\-\_\-ghost\-\_\-map}]{\setlength{\rightskip}{0pt plus 5cm}void initialise\-\_\-ghost\-\_\-map (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_a7fc642878ff2b44d98e3e7f13a35f2ab}
Initlialise the ghost map every time the level is changed. The ghost map simply generate the number of move available ways of every valid cell \hypertarget{lyquanliem_8c_abab9339284556e1039f18cebb044e0c6}{\index{lyquanliem.\-c@{lyquanliem.\-c}!move\-\_\-randomly@{move\-\_\-randomly}}
\index{move\-\_\-randomly@{move\-\_\-randomly}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{move\-\_\-randomly}]{\setlength{\rightskip}{0pt plus 5cm}void move\-\_\-randomly (
\begin{DoxyParamCaption}
\item[{struct {\bf pacghost} $\ast$}]{ghost}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_abab9339284556e1039f18cebb044e0c6}
Move the ghost randomly. Except when it is moving and it cannot turn left or right


\begin{DoxyParams}{Parameters}
{\em ghost} & pointer to the ghost we want to move randomly \\
\hline
\end{DoxyParams}
\hypertarget{lyquanliem_8c_a47539be5d3de5856b22709eb9b2dbde3}{\index{lyquanliem.\-c@{lyquanliem.\-c}!random\-\_\-in\-\_\-range@{random\-\_\-in\-\_\-range}}
\index{random\-\_\-in\-\_\-range@{random\-\_\-in\-\_\-range}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{random\-\_\-in\-\_\-range}]{\setlength{\rightskip}{0pt plus 5cm}int random\-\_\-in\-\_\-range (
\begin{DoxyParamCaption}
\item[{unsigned int}]{min, }
\item[{unsigned int}]{max}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_a47539be5d3de5856b22709eb9b2dbde3}
A function to return a number in range \mbox{[}min,max)


\begin{DoxyParams}{Parameters}
{\em min} & the minimum number of range \\
\hline
{\em max} & the maximum number (the maximum number can be randomed is max -\/ 1 ) \\
\hline
\end{DoxyParams}
\hypertarget{lyquanliem_8c_afdfe2ea05845c44e1ccaabcd9f50e1e9}{\index{lyquanliem.\-c@{lyquanliem.\-c}!sqr@{sqr}}
\index{sqr@{sqr}!lyquanliem.c@{lyquanliem.\-c}}
\subsubsection[{sqr}]{\setlength{\rightskip}{0pt plus 5cm}float sqr (
\begin{DoxyParamCaption}
\item[{float}]{a}
\end{DoxyParamCaption}
)}}\label{lyquanliem_8c_afdfe2ea05845c44e1ccaabcd9f50e1e9}
Function for getting square of number


\begin{DoxyParams}{Parameters}
{\em a} & is the float to get the squared of\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the square of the float a 
\end{DoxyReturn}
